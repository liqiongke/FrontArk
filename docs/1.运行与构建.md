# App/Web 环境变量配置说明

## 概述

`app/web` 项目使用 Vite 作为构建工具，支持多环境部署。项目提供了多个环境配置文件，用于不同场景下的环境变量配置,使用不同后缀,可覆盖基础环境配置中的参数。

## 环境配置文件

### 1. `.env` - 通用配置

适用于所有环境的通用配置，包含基础的应用设置：

```env
# AUTH_TOKEN 缓存失效时间（单位：毫秒）
VITE_AUTH_TOKEN_EXPIRE_TIME = 7200000

#界面标题
VITE_TITLE = "WMS"

# 端口号
VITE_SERVER_PORT = 7000

# 登录页面
VITE_BASE_URL = "http://127.0.0.1:3001/api"
VITE_LOGIN_URL = "/login"

# 接口地址
# 获取菜单地址
VITE_API_LOGIN = "/login"
VITE_API_MENU = "/menu"
```

## 环境变量说明

### 核心配置项

| 变量名 | 说明 | 示例值 | 适用范围 |
|--------|------|--------|----------|
| `VITE_ENV` | 环境标识 | `dev`, `production`, `mock` | 所有环境 |
| `VITE_SERVER_PORT` | 本地开发服务器端口 | `7000`, `9900` | 本地开发 |
| `VITE_BASE_URL` | API基础地址 | `http://127.0.0.1:3001/api` | 所有环境 |
| `VITE_TITLE` | 应用标题 | `"WMS"` | 所有环境 |

### 功能配置项

| 变量名 | 说明 | 默认值 | 适用范围 |
|--------|------|--------|----------|
| `VITE_LOGIN_URL` | 登录页面路径 | `/login` | 所有环境 |
| `VITE_AUTH_TOKEN_EXPIRE_TIME` | Token过期时间(毫秒) | `7200000` | 所有环境 |
| `VITE_API_LOGIN` | 登录接口地址 | `/login` | 所有环境 |
| `VITE_API_MENU` | 菜单接口地址 | `/menu` | 所有环境 |

## 使用方法

### 本地开发

1. **启动开发服务器**

   ```bash
   cd apps/web
   npm run dev
   ```

2. **环境变量加载**
   - 开发环境会优先加载 `.env.dev` 配置
   - 如果 `.env.dev` 中没有定义某变量，会回退到 `.env` 中的配置
   - Vite 会自动处理环境变量的优先级

### 构建部署

1. **开发环境构建**

   ```bash
   pnpm dev
   ```

2. **运行mock环境**

   ```bash
   pnpm dev:mock
   ```

3. **生产环境构建**

   ```bash
   pnpm build
   ```
